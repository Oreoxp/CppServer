[TOC]



## 8086处理器寄存器

![028086通用寄存器](./markdownimage/028086通用寄存器.png)

​		在 8086 处理器的寄存器中，**<u>有 8 个 16 位通用寄存器：AX,BX,CX,DX,SI,DI,BP,SP</u>**，其中，AX,BX,CX,DX这 4 个 16 位寄存器又可分别拆分位高 8 位寄存器和低 8 位寄存器。

例如AX寄存器：

![02ax寄存器](./markdownimage/02ax寄存器.png)





## 8086访问内存

![028086内存线](./markdownimage/028086内存线.png)

​		在8086处理器中，有 16 根内存数据线（正好跟寄存器长度对应），其中数据线是可双向传递数据的。

​		内存是可以根据系统的设置字节序的，所以当寄存器想把数据存入内存时，如果是低字节序，寄存器会先存低8位，再存高8位；高字节序则相反。



#### 程序在内存的布局

##### ![02程序内存布局](./markdownimage/02程序内存布局.png)

​		在上图中，程序在内存中分为了两部分：**程序段**（图中黄色从 0x0000 开始）、**数据段**（图中蓝色从 0x0c00 开始）。

​		在程序段中，存放着各种面向寄存器的操作指令，比如：

​		<u>在 0x0000 处，其中 A1 为指令操作：将内存地址中的一个字传送到 AX 寄存器；后面的紧跟着的就是上面的内存地址：0c，00 ，即为 0x0c00 ( 8086 是低字节序)</u> 



#### 内存分段机制

![02内存分段](.\markdownimage\02内存分段.png)

​		上图中，在内存中分段，在地址 **A532H** ，这个起始地址就是**段地址**，其中这个分段包含了六个小段，**小段的地址只相对于自己所在的段，这叫<u>偏移地址</u>。**

​		采用分段策略后，内存地址就可以用 “<u>段：偏移</u>” 或 “<u>段地址：偏移地址</u> ” 来表示，这就是通常所说的**<u>逻辑地址</u>**，如下图：

![02逻辑地址](.\markdownimage\02逻辑地址.png)

​		为了支持这种模式的内存访问，寄存器至少提供了两个<u>段寄存器</u>：**<u>代码段寄存器（code segment，CS）</u>**，**<u>数据段寄存器（Data Segment，DS）</u>**。

​		当处理器访问内存时，它把指令的内存地址看成是段内的**<u>偏移地址</u>**，而不是物理地址。这样，一旦处理器遇到一条访问内存命令，它就把 DS 中的数据段**起始地址** + **指令提供的段内偏移**，来访问所需要的物理地址。







































