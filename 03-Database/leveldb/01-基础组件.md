[TOC]



# 基础组件

### 一、Slice

Leveldb 中的基本数据结构：

1. 包括 length 和一个指向外部字节数组的指针。
2. 和 string 一样，允许字符串中包含 ’\0’。

​        提供一些基本接口，可以把 const char 和 string 转换为 Slice；把 Slice 转换 为string，取得数据指针 const char。



### 二、satus

​		Leveldb 中的**返回状态**，将错误号和错误信息封装成 Status 类，统一进行处理。并定义了几种具体的返回状态，如成功或者文件不存在等。

​		为了节省空间 Status 并没有用 std::string 来**存储错误信息**，而是将返回码(code), 错误信息 message 及长度打包存储于一个字符串数组中。

成功状态OK 是 NULL state_ ，否则 state_ 是一个包含如下信息的数组:

```
state_[0..3] == 消息 message 长度 
state_[4]    == 消息 code
state_[5..]  == 消息 message 
```